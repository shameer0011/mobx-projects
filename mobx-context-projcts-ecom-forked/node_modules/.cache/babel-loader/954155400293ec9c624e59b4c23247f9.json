{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/DELL/Downloads/mobx-context-projcts-ecom-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/DELL/Downloads/mobx-context-projcts-ecom-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _createClass from \"C:/Users/DELL/Downloads/mobx-context-projcts-ecom-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"C:/Users/DELL/Downloads/mobx-context-projcts-ecom-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\n\nvar _require = require(\"mobx\"),\n    makeAutoObservable = _require.makeAutoObservable;\n\nimport { fetchPrice } from '../utils';\n\nvar CoinStore = /*#__PURE__*/_createClass(function CoinStore(tracker) {\n  var _this = this;\n\n  _classCallCheck(this, CoinStore);\n\n  this.price = 0;\n\n  this.startInterval = function () {\n    setInterval( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var c;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetchPrice(_this.ticker);\n\n            case 2:\n              c = _context.sent;\n\n              _this.setPrice(c);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })), 2000);\n  };\n\n  this.setPrice = function (price) {\n    _this.price = price;\n    _this.dateUpdated = new Date();\n  };\n\n  makeAutoObservable(this);\n  this.ticker = tracker;\n  this.startInterval();\n});\n\nexport default CoinStore;","map":{"version":3,"names":["require","makeAutoObservable","fetchPrice","CoinStore","tracker","price","startInterval","setInterval","ticker","c","setPrice","dateUpdated","Date"],"sources":["C:/Users/DELL/Downloads/mobx-context-projcts-ecom-forked/src/mobx_course/store/coins.js"],"sourcesContent":["const { makeAutoObservable } = require(\"mobx\");\r\nimport {fetchPrice} from '../utils'\r\nclass CoinStore {\r\n    ticker\r\n    price=0\r\n    dateUpdated\r\n\r\n    constructor(tracker) {\r\n       makeAutoObservable(this)\r\n       this.ticker = tracker\r\n       this.startInterval()\r\n    }\r\n\r\n   startInterval=()=>{\r\n         setInterval(async()=>{\r\n            const c= await fetchPrice(this.ticker)\r\n            this.setPrice(c)\r\n         } , 2000)\r\n   }\r\n\r\n   setPrice =(price)=>{\r\n    this.price=price\r\n    this.dateUpdated=new Date()\r\n   }\r\n\r\n}\r\nexport default CoinStore;"],"mappings":";;;;;AAAA,eAA+BA,OAAO,CAAC,MAAD,CAAtC;AAAA,IAAQC,kBAAR,YAAQA,kBAAR;;AACA,SAAQC,UAAR,QAAyB,UAAzB;;IACMC,S,6BAKF,mBAAYC,OAAZ,EAAqB;EAAA;;EAAA;;EAAA,KAHrBC,KAGqB,GAHf,CAGe;;EAAA,KAMtBC,aANsB,GAMR,YAAI;IACZC,WAAW,0EAAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACML,UAAU,CAAC,KAAI,CAACM,MAAN,CADhB;;YAAA;cACHC,CADG;;cAET,KAAI,CAACC,QAAL,CAAcD,CAAd;;YAFS;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAD,IAGP,IAHO,CAAX;EAIL,CAXqB;;EAAA,KAatBC,QAbsB,GAaZ,UAACL,KAAD,EAAS;IAClB,KAAI,CAACA,KAAL,GAAWA,KAAX;IACA,KAAI,CAACM,WAAL,GAAiB,IAAIC,IAAJ,EAAjB;EACA,CAhBqB;;EAClBX,kBAAkB,CAAC,IAAD,CAAlB;EACA,KAAKO,MAAL,GAAcJ,OAAd;EACA,KAAKE,aAAL;AACF,C;;AAeL,eAAeH,SAAf"},"metadata":{},"sourceType":"module"}